<section>
  <div class="page-header">
    <h1>Join
      <small>회원 가입</small>
    </h1>
  </div>

  <div class="row" [hidden]="submitted">
    <form (ngSubmit)="onSubmit()" #joinForm="ngForm">
      <div class="input-group ">
        <span class="input-group-addon" id="sizing-addon2">
          <span class="glyphicon glyphicon-user"></span>
        </span>
        <input type="text" class="form-control" id="join-userId" 
                placeholder="아이디" 
                required 
                [(ngModel)]="joinModel.userId" name="userId" 
                #userId="ngModel"
                
        >
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" (click)="idValidCheck()">
            중복 확인
          </button>
        </span>
      </div>

      <div>
        <div [hidden]="userId.valid || userId.pristine">
          아이디를 입력해주세요.
        </div>
        <div [hidden]= "isValidId || userId.pristine">
          아이디 중복 확인을 해주세요
          <!-- TODO: 아이디 수정시 isValidId = false 로; -->
        </div>
      </div>

      <div class="input-group">
        <span class="input-group-addon" id="sizing-addon2">
          <span class="glyphicon glyphicon-lock"></span>
        </span>
        <input type="password" class="form-control" id="join-password" placeholder="비밀번호" 
              required
              aria-describedby="sizing-addon2"
              [(ngModel)]="joinModel.password" name="password"
              #password = "ngModel"
        >
      </div>

      <div [hidden]="password.valid || password.pristine">
        비밀번호를 입력해주세요.
      </div>

      <div class="text-center" role="group" aria-label="...">
        <button type="submit" class="btn btn-lg btn-block btn-primary" 
                [disabled]="!joinForm.form.valid"
        >
           회원 가입
          </button>
      </div>
    </form>
  </div>

  <div class="row" [hidden]="!submitted">
    회원 가입 완료!
    
    <button routerLink="/">
      홈으로
    </button>
  </div>


</section>
