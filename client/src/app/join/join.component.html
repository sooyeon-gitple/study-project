<section>
  <div class="page-header">
    <h2>
      <!-- Join -->
      {{'JOIN_TITLE' | translate}}
      <small class="text-muted h5">
        {{'JOIN_SUBTITLE' | translate}}
      </small>
    </h2>
  </div>


  <form (ngSubmit)="onSubmit()" #joinForm="ngForm" [hidden]="submitted">

    <div class="input-group mb-3 input-group-sm">
      <input type="text" class="form-control" [placeholder]="'ID'|translate" 
        required [(ngModel)]="joinModel.userId" name="joinId"
        (ngModelChange)="onChangeId(joinId)" #joinId="ngModel">
      <button class="btn btn-outline-secondary" type="button" 
        [disabled]="joinModel.userId.length<4"
        (click)="idValidCheck()">
        <!-- ì¤‘ë³µ í™•ì¸ -->
        {{'VALIDATE' | translate}}
      </button>
    </div>

    <!-- //TODO: ì˜ì–´ver -->
    <div [hidden]="joinId.valid || joinId.pristine" class="form-text">
      <!-- ì•„ì´ë””ë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”. -->
      {{'ID_NOT_VALID' | translate}}
    </div>
    <div [hidden]="joinId.pristine || joinModel.userId.length>3" class="form-text text-warning">
      <!-- ì•„ì´ë””ëŠ” 4ê¸€ìž ì´ìƒì´ì–´ì•¼í•©ë‹ˆë‹¤. -->
      {{'ID_MIN' | translate}}
    </div>
    <div [hidden]="idCheck!=='ready' || joinId.pristine || joinId.invalid" class="form-text text-warning">
      <!-- ì•„ì´ë”” ì¤‘ë³µ í™•ì¸ì„ í•´ì£¼ì„¸ìš”. -->
      {{'NOT_VALIDATED' | translate}}
    </div>
    <div [hidden]="idCheck!=='fail'|| joinId.pristine" class="form-text text-danger">
      <!-- ì´ë¯¸ ê°€ìž…ëœ ì•„ì´ë””ìž…ë‹ˆë‹¤. -->
      {{'EXIST_ID' | translate}}
    </div>
    <div [hidden]="idCheck!=='pass'|| joinId.pristine" class="form-text text-success">
      <!-- ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ìž…ë‹ˆë‹¤. -->
      {{'CAN_USE_ID' | translate}}
    </div>

    <div class="input-group mb-3 input-group-sm">
      <input type="password" class="form-control" [placeholder]="'PW'|translate" id="joinPassword" required
        [(ngModel)]="joinModel.password" name="joinPassword" #joinPassword="ngModel">
    </div>
    <div [hidden]="joinPassword.valid || joinPassword.pristine">
      <!-- ë¹„ë°€ë²ˆí˜¸ë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”. -->
      {{'NO_PW' | translate}}
    </div>

    <div class="input-group mb-3 input-group-sm">
      <input type="password" class="form-control" [placeholder]="'PWCF'|translate" required name="joinPasswordConfirm"
        [(ngModel)]="joinModel.passwordConfirm" #joinPasswordConfirm="ngModel">
    </div>

    <div [hidden]="joinPasswordConfirm.valid || joinPasswordConfirm.pristine">
      <!-- ë¹„ë°€ë²ˆí˜¸ë¥¼ í•œ ë²ˆ ë” ìž…ë ¥í•´ì£¼ì„¸ìš”. -->
      {{'NO_PW_CF' | translate}}
    </div>
    <div [hidden]="(joinPassword.value === joinPasswordConfirm.value) || 
              joinPasswordConfirm.pristine" class="text-warning">
      <span class="glyphicon glyphicon-remove"></span>
      <!-- ë¹„ë°€ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. -->
      {{'PW_NOT_MATCH' | translate}}
    </div>

    <div class="text-center" role="group" aria-label="...">
      <button type="submit" class="btn btn-lg btn-block btn-primary" 
      [disabled]="!joinForm.form.valid || idCheck!=='pass'">
        <!-- íšŒì› ê°€ìž… -->
        {{'JOIN' | translate}}
      </button>
    </div>
  </form>

  <section class="text-center" [hidden]="!submitted" role="group">
    <h3> 
      <!-- íšŒì› ê°€ìž… ì™„ë£Œ!  -->
      {{'JOIN_COMPLETE' | translate}}
      ðŸŽ‰</h3>

    <div>
      <a routerLink="/login" class="btn btn-success">
        <!-- ë¡œê·¸ì¸ í•˜ëŸ¬ ê°€ê¸° -->
        {{'GO_LOGIN' | translate}}
      </a>
    </div>

  </section>

</section>
